#!/usr/bin/env bash
set -e

# Expected to be executed from the project root directory

read -p "Program name [foo]: " PROGRAM
PROGRAM=${PROGRAM:-foo}
echo $PROGRAM > .template/.program

read -p "Go module [example.com/${PROGRAM}]: " GOMODULE
GOMODULE=${GOMODULE:-example.com/${PROGRAM}}
echo "module ${GOMODULE}" > src/go.mod
echo >> src/go.mod
cat .template/go.mod.in >> src/go.mod

read -p "Container image registry (with trailing '/', empty for local images only) []: " REGISTRY
REGISTRY=${REGISTRY:-}
echo $REGISTRY > .template/.registry
